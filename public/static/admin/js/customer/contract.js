define(["jquery", "easy-admin"], function ($, ea) {    var init = {        table_elem: '#currentTable',        table_render_id: 'currentTableRenderId',        index_url: 'customer.contract/index',        add_url: 'customer.contract/add',        edit_url: 'customer.contract/edit',        delete_url: 'customer.contract/delete',        export_url: 'customer.contract/export',        modify_url: 'customer.contract/modify',    };    var soulTable = layui.soulTable;    var Controller = {        index: function () {            ea.table.render({                init: init, overflow: 'tips',                skin: 'line  ' //行边框风格                , even: true, //开启隔行背景                toolbar: ['refresh', 'add', 'delete'],                cols: [[                    {type: 'checkbox'},                    {field: 'id', title: 'id', search: false},                    {field: 'contraactcreate_at', title: '登记日期', search: 'searchtime'},                    {field: 'contract_code', title: '合同编码'},                    {field: 'company.chinese_company_name', title: '主体公司'},                    {field: 'company_name', title: '公司全称'},                    {field: 'abbreviation_name', title: '公司名称',search:false},                    {field: 'company_address', title: '公司地址'},                    {field: 'company_code', title: '公司编码'},                    {field: 'sales', title: '销售'},                    {field: 'contract_signer', title: '合同签订人',},                    {                        title: '服务', templet: function (d) {                            if (d.fw == null) {                                return ''                            } else {                                return d.fw.content                            }                        }                    },                    {                        field: 'yz.content',                        title: '语种', templet: function (d) {                            if (d.yz == null) {                                return ''                            } else {                                return d.yz.content                            }                        }                    },                    {                        field: 'bz.content',                        title: '币种', templet: function (d) {                            if (d.bz == null) {                                return ''                            } else {                                return d.bz.content                            }                        }                    },                    {field: 'unit_price', title: '单价', search: false, templet: ea.table.price},                    {                        title: '单位', templet: function (d) {                            if (d.dw == null) {                                return ''                            } else {                                return d.dw.content                            }                        }                    },                    {field: 'estimated_sales', title: '预计销售额', search: false, templet: ea.table.price},                    {field: 'tax_rate', title: '税率', search: false, templet: ea.table.percent},                    {field: 'customer_tax_number', title: '客户税号', search: false},                    {field: 'bank_information', title: '开户银行', search: false},                    {                        field: 'invoicing_rules',                        search: 'select',                        selectList: {"1": "专票", "2": "普票", "0": "N\/A"},                        title: '开票规则',                                            },                    {field: 'account_period', title: '账期（结算方式）', search: false},                    {                        field: 'confidentiality_agreement',                        search: 'select',                        selectList: {"1": "yes", "2": "no", "0": "N\/A"},                        title: '有无保密协议',                                            },                    {field: 'effective_date', title: '生效日期', 'sort': true, search: 'searchtime'},                    {field: 'expiration_date', title: '失效日期', 'sort': true, search: 'searchtime'},                    {field: 'status', title: '合同状态', 'sort': true, search: false},                    {field: 'remaining', title: '剩余有效期', 'sort': true, search: false},                    {field: 'remarks', title: '备注', search: false},                    {field: 'write.username', title: '填表人'},                    // {field: 'customerInformation.contract_code', title: '合同编码'},                    {field: 'contraactupdate_at', title: '更新时间', search: 'false'},                    {width: 250, title: '操作', templet: ea.table.tool, fixed: "right",},                ]],                done: function () {                    // 在 done 中开启                    soulTable.render(this)                }                , autoColumnWidth: {                    init: true                },                filter: {                    items: ['column', 'data', 'condition', 'editCondition', 'excel', 'clearCache'],                    cache: true                }            });            ea.listen(function (data) {                // // 此处进行数据重组再返回                // data.effective_date = '测试重组数据';                //                // return data;            });        },        add: function () {            ea.listen();        },        edit: function () {            ea.listen();        },    };    return Controller;});