<link rel="stylesheet" type="text/css" href="https://www.layuicdn.com/layui/css/layui.css"/>
<div class="layui-card">
    <div class="layui-card-body">

        <form class="layui-form layui-inline" action="/admin/report.project/projectpage" id="sub">
            <div class="layui-form-item">
                <label class="layui-form-label">选择月份</label>
                <div class="layui-input-block">
                    <input type="month" name="month" placeholder="" value="{:input('month')}" autocomplete="off" class="layui-input">
                </div>
            </div>
        </form>
        <div class="layui-form">
            <table class="layui-table" lay-filter="demo" lay-data="{ url:'/admin/report.project/projectpage?month={:input('month')}',limit:99999,toolbar: true,}">
                <thead >
                <tr>
                    <th lay-data="{field:'date',sort: true}">日期</th>
                    <th lay-data="{field:'sumpage',sort:true}">当天需提交页数</th>
                    <th lay-data="{field:'yppage',sort: true}">预排完成页数</th>
                    <th lay-data="{field:'trpage',sort: true}">翻译完成页数</th>
                    <th lay-data="{field:'xdpage',sort: true}">校对完成页数</th>
                    <th lay-data="{field:'hppage',sort: true}">后排完成页数</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>
</div>
<script src="http://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
<script src="https://www.layuicdn.com/layui/layui.js"></script>
<script>
    layui.use('table', function() {
        var table = layui.table;
        // console.log(table);
//转换静态表格(排序有问题)
//         table.init('demo', {
//             toolbar: true,
//             title:'页数统计表',
//             limit:300,
//         });

    });
</script>

<script>
    $("input[name='month']").change(function () {
        console.log( $("input[name='month']").val())
        $('#sub').submit();
    })
</script>